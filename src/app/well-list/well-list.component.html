<!-- <router-outlet></router-outlet> -->
<div class="main-container">
  <div class="container-title">
    <span>
      <svg
        width="20"
        height="14"
        viewBox="0 0 20 14"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M7.89746 12.919L2.86035 7.76407H19.9995V6.23543H2.86035L7.90039 1.08203L6.84131 0L0 7.00075L6.84082 14L7.89746 12.919Z"
          fill="#EBECF2"
        />
      </svg>
    </span>
    <h1>Well List</h1>
  </div>

  <div class="tableContainer">
    <div class="tabletophead">
      <div class="lefthead">
        <h2>Well List</h2>
      </div>
      <div class="righthead">
        <div class="prioritywrapper">
          <ul>
            <li
              class="button-type-none priority high"
              (click)="SeachByStatus('High')"
            >
              High ( {{ High }} )
            </li>
            <li
              class="button-type-none priority medium"
              (click)="SeachByStatus('Medium')"
            >
              Medium ( {{ Medium }} )
            </li>
            <li
              class="button-type-none priority low"
              (click)="SeachByStatus('Low')"
            >
              Low ( {{ Low }} )
            </li>
          </ul>
        </div>
        <div class="searchBar">
          <input
            id="searchQueryInput"
            type="text"
            name="searchQueryInput"
            placeholder="Search"
            value=""
            [(ngModel)]="searchQueryInput"
            (keyup)="search($event)"
          />
          <button
            id="searchQuerySubmit"
            type="submit"
            name="searchQuerySubmit"
            (click)="ClearSearch()"
          >
            <img
              matbuttonicon=""
              alt=""
              class=""
              src="./assets/images/close-icon.svg"
            />
          </button>
        </div>
        <div class="headIcons">
          <ul>
            <li>
              <button
                mat-icon-button
                class="button-type-none"
                (click)="RefreshGrid()"
              >
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M17.0527 2.93254C15.208 1.10189 12.6943 0 10.0005 0C4.48633 0 0 4.46343 0 9.95004C0 15.4362 4.48633 19.9001 10.0005 19.9001C15.5146 19.9001 20 15.4362 20 9.95004H18.5C18.5 14.6132 14.6875 18.4076 10.0005 18.4076C5.31348 18.4076 1.5 14.6132 1.5 9.95004C1.5 5.28645 5.31348 1.49251 10.0005 1.49251C12.29 1.49251 14.4268 2.42921 15.9951 3.98488L13 6.96503H18.2188H20V5.319V0L17.0527 2.93254Z"
                    fill="white"
                  />
                </svg>
              </button>
            </li>
            <li>
              <!-- <button
                mat-icon-button
                [matMenuTriggerFor]="calenderFilter"
                class="button-type-none"
              >
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M5.76172 7.75195H4.26172V9.25195H5.76172V7.75195ZM9.10449 7.75684H7.60449V9.25684H9.10449V7.75684ZM10.9473 7.75684H12.4473V9.25684H10.9473V7.75684ZM15.7891 7.75684H14.2891V9.25684H15.7891V7.75684ZM14.8252 11.6973L13.6055 12.917L12.3867 11.6973L11.3252 12.7578L12.5459 13.9775L11.3252 15.1973L12.3867 16.2578L13.6055 15.0381L14.8252 16.2578L15.8867 15.1973L14.667 13.9775L15.8867 12.7578L14.8252 11.6973ZM6.39551 12.917L7.61523 11.6973L8.67676 12.7578L7.45605 13.9775L8.67676 15.1973L7.61523 16.2578L6.39551 15.0381L5.17676 16.2578L4.11523 15.1973L5.33496 13.9775L4.11523 12.7578L5.17676 11.6973L6.39551 12.917ZM15.2666 4.49707V3.00977H18.502V18.5H1.50098V3.00977H4.74023V4.49707H6.24023V3.00977H13.7666V4.49707H15.2666ZM13.7666 0V1.50977H6.24023V0H4.74023V1.50977H0V20H20V1.50977H15.2666V0H13.7666Z"
                    fill="white"
                  />
                </svg>
              </button> -->
            </li>
            <li>
              <button
                mat-icon-button
                [matMenuTriggerFor]="SelectionFilter"
                class="button-type-none"
              >
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M6.77734 8.56563H16V7.36563H6.77734C6.50391 6.16953 5.43828 5.275 4.15859 5.275C2.87969 5.275 1.81328 6.16953 1.53984 7.36563H0V8.56563H1.53984C1.81328 9.76172 2.87969 10.6578 4.15859 10.6578C5.43828 10.6578 6.50391 9.76172 6.77734 8.56563ZM2.66719 7.96562C2.66719 7.14375 3.33594 6.475 4.15859 6.475C4.98047 6.475 5.65 7.14375 5.65 7.96562C5.65 8.78906 4.98047 9.45781 4.15859 9.45781C3.33594 9.45781 2.66719 8.78906 2.66719 7.96562ZM11.8086 5.38281C13.0883 5.38281 14.1539 4.48672 14.4273 3.29063H16V2.09063H14.4273C14.1539 0.894531 13.0883 0 11.8086 0C10.5297 0 9.46328 0.894531 9.18984 2.09063H0V3.29063H9.18984C9.46328 4.48672 10.5297 5.38281 11.8086 5.38281ZM10.3172 2.69062C10.3172 1.86875 10.9859 1.2 11.8086 1.2C12.6312 1.2 13.3 1.86875 13.3 2.69062C13.3 3.51406 12.6312 4.18281 11.8086 4.18281C10.9859 4.18281 10.3172 3.51406 10.3172 2.69062ZM8.275 16C9.55469 16 10.6203 15.1039 10.8938 13.9078H16V12.7078H10.8938C10.6203 11.5117 9.55469 10.6172 8.275 10.6172C6.99609 10.6172 5.92969 11.5117 5.65625 12.7078H0V13.9078H5.65625C5.92969 15.1039 6.99609 16 8.275 16ZM6.78359 13.3078C6.78359 12.4859 7.45312 11.8172 8.275 11.8172C9.09687 11.8172 9.76641 12.4859 9.76641 13.3078C9.76641 14.1312 9.09687 14.8 8.275 14.8C7.45312 14.8 6.78359 14.1312 6.78359 13.3078Z"
                    fill="white"
                  />
                </svg>
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <!-- calender filter start-->
    <mat-menu #calenderFilter="matMenu" class="filter-container">
      <div class="align-center">
        <div class="calender-alrt-filter">
          <div class="calender-alrt-filter-header">
            <div class="calender-alrt-filter-title">Select</div>
            <button
              mat-icon-button
              class="calender-alrt-filter-close button-type-none"
            >
              <svg
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M16 1.13594L14.8664 0L8 6.88125L1.13359 0L0 1.13594L6.86641 8.01719L0.034375 14.8641L1.16797 16L8 9.15312L14.832 16L15.9656 14.8641L9.13359 8.01719L16 1.13594Z"
                  fill="#CCCFDE"
                />
              </svg>
            </button>
          </div>
          <div class="calender-alrt-filter-section-btn-grp">
            <button
              mat-flat-button
              class="select-btn"
              (click)="setDateSelected(1)"
            >
              1 Day
            </button>
            <button
              mat-flat-button
              class="select-btn"
              (click)="setDateSelected(2)"
            >
              1 Week
            </button>
            <button
              mat-flat-button
              class="select-btn"
              (click)="setDateSelected(3)"
            >
              1 Month
            </button>
          </div>
          <div class="calender-alrt-filter-section-date-range">
            <div class="calender-alrt-filter-date-range-title">
              Select Data Range
            </div>
            <div class="calender-alrt-filter-section-colender">
              <mat-calendar
                [selected]="selectedRangeValue"
                (click)="$event.stopPropagation()"
                (selectedChange)="selectedChange($event)"
              >
              </mat-calendar>
            </div>
          </div>
          <div class="calender-alrt-filter-action-btn-grp">
            <button
              mat-flat-button
              class="action-btn"
              (click)="resetDateRangeFilters()"
            >
              Reset
            </button>
            <button
              mat-flat-button
              class="action-btn active marginL20"
              (click)="applyDateRangeFilter()"
            >
              Apply
            </button>
          </div>
        </div>
      </div>
    </mat-menu>
    <!-- calender filter end -->
    <!-- select filter start-->

    <mat-menu #SelectionFilter="matMenu" class="filter-container">
      <div class="align-center">
        <div class="select-filter">
          <div class="select-filter-header">
            <div class="select-filter-title">Filter by</div>
            <button
              mat-icon-button
              class="calender-alrt-filter-close button-type-none"
            >
              <svg
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M16 1.13594L14.8664 0L8 6.88125L1.13359 0L0 1.13594L6.86641 8.01719L0.034375 14.8641L1.16797 16L8 9.15312L14.832 16L15.9656 14.8641L9.13359 8.01719L16 1.13594Z"
                  fill="#CCCFDE"
                />
              </svg>
            </button>
          </div>
          <div class="select-filter-section" (click)="$event.stopPropagation()">
            <div class="select-lbl">Approval Status</div>
            <mat-form-field>
              <mat-select
                placeholder="Select Production uptime"
                (selectionChange)="ApplyProductionFilter($event.value)"
              >
                <mat-option
                  *ngFor="let item of prodUptime"
                  [value]="item.value"
                >
                  {{ item.value }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="select-filter-section" (click)="$event.stopPropagation()">
            <div class="select-lbl">Mode Of Approval</div>
            <mat-form-field>
              <mat-select
                placeholder="Select Mode Of Approval"
                (selectionChange)="ApplyByFilter($event.value)"
              >
                <mat-option
                  *ngFor="let item of approvalModeList"
                  [value]="item.value"
                >
                  {{ item.value }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="select-filter">
            <div
              class="select-filter-section"
              (click)="$event.stopPropagation()"
            >
              <div class="select-lbl">Extra Columns</div>
              <section
                class="checkbox-section"
                *ngFor="let extraColumn of extraColumnsList"
              >
                <mat-checkbox
                  [value]="extraColumn.header"
                  (change)="onChangeDemo($event)"
                  >{{ extraColumn.label }}</mat-checkbox
                >
              </section>
              <!-- <mat-form-field>
                     <mat-select placeholder="Select Performance" [formControl]="extraColumnsCtrl" multiple #extraColumns >
                     <mat-option *ngFor="let extraColumn of extraColumnsList" [value]="extraColumn.accessor">{{extraColumn.label}}</mat-option>
                                            
                   </mat-select>
                  </mat-form-field> -->
            </div>

            <!-- <div class="select-filter-action-btn">
                  <button mat-flat-button class="action-btn active" (click)="getSelectedValues()">Apply</button>
               </div>  -->
          </div>

          <div class="select-filter-action-btn">
            <button mat-flat-button class="action-btn active">Apply</button>
          </div>
        </div>
      </div>
    </mat-menu>
    <!-- select filter end -->
    <div class="table-responsive">
      <table
        matSort
        mat-table
        [dataSource]="dataSource"
        (matSortChange)="onSortChanged($event)"
      >
        <!-- Priority Status Column -->
        <ng-container matColumnDef="WellPriority">
          <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
          <td mat-cell *matCellDef="let element">
            <!-- <span class="high-priorityline">{{element?.status}}</span>  -->
            <span
              [ngClass]="
                element.WellPriority === 'High'
                  ? 'high-priorityline'
                  : element.WellPriority === 'Medium'
                  ? 'med-priorityline'
                  : 'low-priorityline'
              "
            ></span>
          </td>
        </ng-container>
        <!-- Wells Name -->
        <ng-container matColumnDef="wellName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Well Name.</th>
          <td mat-cell *matCellDef="let element" id="well_name">
            <a [routerLink]="['/well-info']"> {{ element.WellName }}</a>
            <!-- <a>{{ element.WellName }}</a> -->
          </td>
        </ng-container>
        <!--Pump Status -->
        <ng-container matColumnDef="TimeStamp">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Time Stamp</th>
          <td mat-cell *matCellDef="let element">
            {{ element.TimeStamp | date : "yyyy-MM-dd HH:MM:ss" }}
          </td>
        </ng-container>
        <!-- Time and date -->
        <ng-container matColumnDef="GLISetPoint">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            GLI SetPoint
          </th>
          <td mat-cell *matCellDef="let element">{{ element.GLISetPoint }}</td>
        </ng-container>

        <!-- Structural Load -->
        <ng-container
          *ngFor="let eClumn of displayableExtraColumns"
          [matColumnDef]="eClumn.header"
        >
          <th mat-sort-header mat-header-cell *matHeaderCellDef>
            {{ eClumn.label }}
          </th>
          <td mat-cell *matCellDef="let element">
            <a class="button-type-none"
              >{{ element[eClumn.accessor].value }}
              <span
                *ngIf="
                  eClumn.label === 'QLiq' ||
                  eClumn.label === 'QOil' ||
                  eClumn.label === 'Qg' ||
                  eClumn.label === 'Qw' ||
                  eClumn.label === 'Wc'
                "
                >%</span
              >
            </a>
          </td>
        </ng-container>
        <ng-container matColumnDef="QLiq">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>OLiq</th>
          <td mat-cell *matCellDef="let element">{{ element.QLiq }}</td>
        </ng-container>
        <!-- Avg Last 24hrs -->
        <ng-container matColumnDef="Qg">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>QG</th>
          <td mat-cell *matCellDef="let element">{{ element.Qg }}</td>
        </ng-container>
        <!-- Inferred Production -->
        <ng-container matColumnDef="QOil">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>QOil</th>
          <td mat-cell *matCellDef="let element">{{ element.QOil }}</td>
        </ng-container>
        <!-- Avg Last 24hrs -->
        <ng-container matColumnDef="Qw">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>QW</th>
          <td mat-cell *matCellDef="let element">{{ element.Qw }}</td>
        </ng-container>
        <!-- Inferred Production -->
        <ng-container matColumnDef="Wc">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>WC</th>
          <td mat-cell *matCellDef="let element">{{ element.Wc }}</td>
        </ng-container>
        <!-- Pump Fillage -->
        <ng-container matColumnDef="CompressorUpTime">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Compressor Uptime
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.CompressorUpTime }}
          </td>
        </ng-container>

        <!-- Mode Operation -->
        <ng-container matColumnDef="ProductionUpTime">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Production Uptime
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.ProductionUpTime }}
          </td>
        </ng-container>
        <ng-container matColumnDef="DeviceUpTime">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Device Uptime
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.DeviceUpTime }}
          </td>
        </ng-container>
        <!-- Status Operation -->
        <ng-container matColumnDef="CurrentGLISetpoint">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Current GLI Setpoint
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.CurrentGLISetpoint }}
          </td>
        </ng-container>
        <!--Cycle Status-->
        <ng-container matColumnDef="LastCycleStatus">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Cycle Status
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.LastCycleStatus }}
          </td>
        </ng-container>

        <!-- <ng-container matColumnDef="PreprocessorState">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          PreprocessorState
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.PreprocessorState }}
        </td>
      </ng-container> -->
        <!--Auto/Manua-->
        <ng-container matColumnDef="ApprovalStatus">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Approve/Discard/Override
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.ApprovalStatus }}
          </td>
        </ng-container>
        <!--Approve/Discard/ Override-->
        <ng-container matColumnDef="ApprovalMode">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Auto/Manual</th>
          <td mat-cell *matCellDef="let element">
            {{ element.ApprovalMode }}
          </td>
        </ng-container>
        <ng-container matColumnDef="CurrentCycleStatus">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            CurrentCycleStatus
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.CurrentCycleStatus }}
          </td>
        </ng-container>

        <!-- No Of Alerts(%) -->
        <ng-container matColumnDef="NoOfAlerts">
          <th mat-sort-header mat-header-cell *matHeaderCellDef>
            No Of Alerts
          </th>
          <td mat-cell *matCellDef="let element" class="align-col">
            <a [routerLink]="['/alerts']"> {{ element.NoOfAlerts }}</a>
          </td>
        </ng-container>

        <!-- Dynamic Columns -->

        <tr
          *matNoDataRow
          class="mat-mdc-row mdc-data-table__row cdk-row ng-star-inserted"
        >
          <td
            class="mat-mdc-cell mdc-data-table__cell cdk-cell ng-star-inserted text-center"
            *ngIf="loading == true"
            [attr.colspan]="displayedColumns.length"
          >
            <mat-progress-spinner
              mode="indeterminate"
              class="table-progressbar"
              style="margin: 0 auto"
            ></mat-progress-spinner>
          </td>
          <td
            class="mat-mdc-cell mdc-data-table__cell cdk-cell ng-star-inserted text-center"
            *ngIf="loading == false"
            [attr.colspan]="displayedColumns.length"
          >
            No Record Found
          </td>
        </tr>
        <!-- Header -->
        <!-- Header row well group -->
        <ng-container matColumnDef="header-row-well-group">
          <th mat-header-cell *matHeaderCellDef [attr.colspan]="2">Well</th>
        </ng-container>

        <!-- Header row last-cycle group -->
        <ng-container matColumnDef="header-row-last-cycle-group">
          <th mat-header-cell *matHeaderCellDef [attr.colspan]="6">
            Last Cycle
          </th>
        </ng-container>

        <!-- Header row second group -->
        <ng-container matColumnDef="header-row-current-cycle-group">
          <th mat-header-cell *matHeaderCellDef [attr.colspan]="2">
            Current Cycle
          </th>
        </ng-container>

        <!-- Header row second group -->
        <ng-container matColumnDef="header-row-mode-of-operation-group">
          <th mat-header-cell *matHeaderCellDef [attr.colspan]="2">
            Mode of Operation
          </th>
        </ng-container>

        <tr
          mat-header-row
          *matHeaderRowDef="[
            'header-row-well-group',
            'header-row-last-cycle-group',
            'header-row-current-cycle-group',
            'header-row-mode-of-operation-group'
          ]"
        ></tr>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
    <mat-paginator
      #paginator
      [length]="TotalCount"
      [pageIndex]="pageNumber"
      [pageSize]="pageSize"
      [pageSizeOptions]="[5, 10, 20]"
      showFirstLastButtons
      (page)="pageChanged($event)"
      aria-label="Select page"
    >
    </mat-paginator>
  </div>
</div>
